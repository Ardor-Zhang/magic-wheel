<!DOCTYPE html>
<html lang="en">

<head>
  <title>BackToTop</title>
  <style>
    body {
      height: 3000px;
    }
  </style>
</head>

<body>
  <script>
    function getScrollPosition() {
      const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
      console.log('滚动条位置：' + scrollTop);
    };
    /**
     * 防抖函数
     * @param {*} fn 需要执行的事件（操作）
     * @param {*} delay 停止触发事件多久后真正执行事件
     */
    function debounce(fn, delay) {
      let timer = null;
      return function() {
        if(timer) {                       // 如果在 delay 时间之内已经触发过一次了
          clearTimeout(timer);            // 那就清除掉上一个需要执行的定时器
          timer = setTimeout(fn, delay);  // 重新开启一个新的定时器，这样相当于又重新开始计时 delay 了
        }else {                           
          timer = setTimeout(fn, delay);   
        }
      }
    }
    
    window.onscroll = debounce(getScrollPosition, 1000);
  </script>
</body>

</html>